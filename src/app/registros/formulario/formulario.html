<form [formGroup]="form" (ngSubmit)="guardar()" class="p-6 space-y-4">



<!-- NÃºmero de solicitud -->
  <div>
    <label for="numeroSolicitud" class="block text-sm font-medium text-gray-700">
      NÃºmero de solicitud
    </label>
    <input id="numeroSolicitud"
          type="text"
          formControlName="numeroSolicitud"
          autocomplete="off"
          (input)="form.get('numeroSolicitud')?.setValue(form.get('numeroSolicitud')?.value?.toUpperCase(), { emitEvent: false })"
          [class.border-red-500]="form.get('numeroSolicitud')?.invalid && form.get('numeroSolicitud')?.touched"
          class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-300" />

    <!-- âœ… Mensaje dinÃ¡mico de error -->
    <div *ngIf="form.get('numeroSolicitud')?.invalid && form.get('numeroSolicitud')?.touched"
        class="text-red-500 text-sm mt-1">
      El nÃºmero de solicitud no puede estar vacÃ­o ni contener solo espacios.
    </div>
  </div>


  <!-- Correos autorizados con chips -->
  <div>
    <p class="block text-sm font-medium text-gray-700">Correos autorizados</p>

    <!-- Chips -->
    <div class="flex flex-wrap gap-2 mb-2">
      <span *ngFor="let correo of correosSeleccionados"
            class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full flex items-center">
        {{ correo }}
        <button type="button"
                aria-label="Eliminar correo {{ correo }}"
                (click)="eliminarCorreo(correo)"
                class="ml-2 text-red-500 hover:text-red-700">âœ–</button>
      </span>
    </div>

    <!-- Input -->
    <input id="correoInput"
           type="email"
           formControlName="correoInput"
           placeholder="Escribe un correo..."
           autocomplete="off"
           class="w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-300" />

    <!-- Sugerencias -->
    <ul *ngIf="sugerencias.length > 0" class="border rounded-lg mt-2 bg-white shadow">
      <li *ngFor="let correo of sugerencias" class="px-3 py-1">
        <button type="button"
                aria-label="Agregar correo {{ correo }}"
                (click)="agregarCorreo(correo)"
                class="w-full text-left hover:bg-blue-100 cursor-pointer">
          {{ correo }}
        </button>
      </li>
    </ul>
  </div>

  <!-- BotÃ³n guardar -->
  <div class="text-right">
    <button type="submit"
            class="bg-linear-to-r from-[#046BB4] to-[#4484B4] text-white py-3 px-4 rounded-lg font-semibold
                   shadow-md hover:shadow-glow transform transition-all duration-300
                   hover:scale-[1.05] active:scale-[0.95]
                   focus:outline-none focus:ring-2 focus:ring-[#046BB4] focus:ring-offset-2
                   disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
      ðŸ’¾ Guardar
    </button>
  </div>
</form>
